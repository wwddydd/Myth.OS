schema: thing
description: >
  Defines any interactable entity within the world that does not exclusively map
  to a location or creature. A thing may be an item, relic, structure, furnishing,
  corpse, concept, or fluid category-shifter. This schema supports symbolic roles,
  mythic states, and narrative phase transitions.

fields:
  id:
    type: string
    description: Unique internal identifier. Use kebab-case (e.g. "glowing-brick", "dream-fence").
    required: true

  name:
    type: string
    description: Common or known name of the thing. May shift based on player alignment.
    required: false

  type:
    type: string
    description: Should always be "thing" unless subclassing.
    required: true
    enum: ["thing"]

  description:
    type: string
    description: Prose description of the thing’s appearance, vibe, and symbolic gravity.
    required: false

  appearance:
    type: string
    description: Surface or initial impression—what a player sees or senses on encounter.
    required: false

  function:
    type: string
    description: Its intended or mythic function in the world (e.g. threshold, bait, vessel, anchor).
    required: false

  behavior:
    type: list[string]
    description: Behaviors or conditions this thing exhibits, especially when influenced by story pressure.
    required: false

  symbolic_roles:
    type: list[string]
    description: Mythic or narrative roles it may occupy (e.g. key, fragment, curse, memory).
    required: false

  state_profile:
    type: map
    description: Defines interaction affordances and metaphysical flags for gameplay.
    required: false
    fields:
      is_portable:
        type: boolean
        description: Can the player carry it?
      is_place:
        type: boolean
        description: Does it double as a location?
      is_container:
        type: boolean
        description: Can it hold other things, materially or symbolically?
      is_alive:
        type: boolean
        description: Is it a living or sentient entity?
      is_bound:
        type: boolean
        description: Is it fixed in narrative space? (e.g. cannot be moved until a ritual is completed)

  effects:
    type: list[string]
    description: Things that happen when it is used, invoked, destroyed, possessed, etc.
    required: false

  origin:
    type: string
    description: Where it came from or what it was once part of (e.g. “house/sf/rowhouse-21”).
    required: false

  location:
    type: string
    description: Where it currently resides, if in the world. Use path-style notation.
    required: false

  vexotra_overlays:
   type: map
   description: >
    Defines how this entity changes in response to emotional tone vectors. Each key
    is an emotional axis defined in vexotra.yaml. Thresholds determine when the
    shift activates. Mythos uses the player's current vector to decide which overlays
    apply and blends multiple if necessary.
  required: false
  pattern_properties:
    "^[a-z_]+$":  # Match axis ids like sorrow, wrath, absurdity
      type: map
      fields:
        threshold:
          type: float
          description: Minimum player value on this axis to activate overlay
        description:
          type: string
          description: Emotional version of longform description
        appearance:
          type: string
          description: Modified first-impression visual or sensory description
        behavior_mods:
          type: list[string]
          description: Extra or altered behaviors activated at this tone
        effects:
          type: list[string]
          description: Things triggered when this overlay is active (e.g. spawns, unlocks)
        [*]:
          type: any
          description: Other fields may be contextually overridden or extended

  [*]:
    type: any
    description: Additional context fields allowed. Mythos will interpret them dynamically.
